# randomize canvas fingerprint
randomcanvas.js application/javascript
(function() {
	function randomRGBA() {
	    const clr = () => Math.round(Math.random()*255)
	    return `rgba(${clr()},${clr()},${clr()},${Math.random().toFixed(1)})`
	}
	const canvas = window.document.createElement('canvas')
	const txt = 'ðŸ’© Private'
	const context = canvas.getContext('2d')
	context.textBaseline = 'top'
	context.font = "14px 'Arial'"
	context.textBaseline = 'alphabetic'
	context.fillStyle = randomRGBA()
	context.fillRect(125, 1, 62, 20)
	context.fillStyle = randomRGBA()
	context.fillText(txt, 2, 15)
	context.fillStyle = randomRGBA()
	context.fillText(txt, 4, 17)
	const newDataURI = canvas.toDataURL()
	const cachedData = function(newDataURI) {
		return (typeOfAttempt='') => () => {
			console.warn(`ðŸ³ ${typeOfAttempt}HTMLCanvasElement.toDataURL accessed: ${newDataURI}`)
			return newDataURI
		}
	}
	const randomcanvas = cachedData(newDataURI)
	function redefine(root, type='') {
		Object.defineProperties(
			root.HTMLCanvasElement.prototype,
			{
				'toDataURL':  { value: randomcanvas(type) }
			}
		)
		return console.log('redefine success')
	}
	redefine(window, randomcanvas)
	;[...document.getElementsByTagName('iframe')].forEach(frame => {
		console.log('here')
		redefine(frame.contentWindow, 'ðŸ˜¡ Aggressive - ')
	})
})();
